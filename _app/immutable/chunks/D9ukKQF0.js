import"./DsnmJJEf.js";import{p as M,O as k,P as w,g as L,Q as h,f as C,d,k as r,b as I,c as A,s as b,R as Q,r as c,t as P}from"./CTrBG-su.js";import{d as U,s as S}from"./xh0yEfGp.js";import{p as j,i as W}from"./0-nxEys-.js";import{D as X,G as F,e as q,b as z,a as B,i as H,E as J}from"./QFfqNP4o.js";import"./Cpt3QZaX.js";import{R as K}from"./BLjARmoN.js";function V(y,e,u,E,o){h(e,u[r(E)],!0),o()}var Y=C("<option> </option>"),Z=C('<div class="error-message svelte-9bcj7i"><span> </span></div>'),$=C(`<main class="editor svelte-9bcj7i"><h2 class="dev">Graph Editor</h2> <p class="comment svelte-9bcj7i">Removes duplicate entries automatically.</p> <div class="text-wrap svelte-9bcj7i"><textarea spellcheck="false" class="svelte-9bcj7i">
        </textarea> <div class="input-actions svelte-9bcj7i"><select><option>-- choose demo --</option><!></select></div> <!></div></main>`);function le(y,e){M(e,!0);const u=X.getTextInputs(F);let E=j(e,"displayErrorMessages",3,!1),o=k(w(e.graph?.asString()??"")),t=k(""),i=k(""),g=null;function m(){R(),g&&e.onChange(g),r(i)&&e.onWrongFormat?.(r(i))}function R(){const a=F.fromString(r(o));typeof a=="string"?(g=null,h(i,a,!0)):(g=a,h(i,""))}L(()=>{e.graph&&h(o,e.graph.asString(),!0)});var n=$(),s=b(d(n),4),f=d(s);Q(f),f.__input=R,f.__change=m;var x=b(f,2),_=d(x);_.__change=[V,o,u,t,m];var G=d(_);G.value=G.__value="";var D=b(G);q(D,17,()=>Object.keys(u),H,(a,v)=>{var l=Y(),T=d(l,!0);c(l);var N={};P(()=>{S(T,r(v)),N!==(N=r(v))&&(l.value=(l.__value=r(v))??"")}),I(a,l)}),c(_),c(x);var p=b(x,2);{var O=a=>{var v=Z(),l=d(v),T=d(l,!0);c(l),c(v),P(()=>S(T,r(i))),I(a,v)};W(p,a=>{E()&&r(i)&&a(O)})}c(s),c(n),z(f,()=>r(o),a=>h(o,a)),B(_,()=>r(t),a=>h(t,a)),I(y,n),A()}U(["input","change"]);var ee=C('<main><h2 class="dev">Renderer Editable Graph</h2> <!></main>');function de(y,e){M(e,!0);let u=j(e,"style",3,"DEFAULT"),E=j(e,"layout",3,"preset"),o=j(e,"directed",3,!1),t=null;const i=n=>{const s=n.target;if(t==null){t=s,s.addClass("selected-node");return}if(t.id()==s.id()){t.removeClass("selected-node"),t=null;return}if(e.graph.edges.some(p=>p.from==t.id()&&p.to==s.id()||!o()&&p.from==s.id()&&p.to==t.id())){t.removeClass("selected-node"),t=null;return}const x=t.id(),_=s.id(),D={id:J+`${x}-${_}`,from:t.id(),to:s.id()};e.onAddEdge(D),t.removeClass("selected-node"),t=null},g=n=>{n.stopPropagation();const s=n.target;e.onRemoveEdge(s),t=null};var m=ee(),R=b(d(m),2);K(R,{get graph(){return e.graph},get style(){return u()},get layout(){return E()},onNodeTap:i,onEdgeTap:g}),c(m),I(y,m),A()}export{le as E,de as R};
