import"./DsnmJJEf.js";import{o as F}from"./CHE0eMEN.js";import{p as G,g as T,k as f,O,f as Q,s as D,d as g,r as y,M as Y,t as Z,Q as q,b as J,c as K}from"./DWngNMqy.js";import{r as V}from"./uXYcvkjH.js";import{s as W,c as X,k as $}from"./BfLtls2m.js";import{p as u,b as R}from"./Cy94KniK.js";import{c as ee}from"./DtBltrT8.js";const c={selector:"node.selected-node",style:{"background-color":"#ff0000"}},a=[{selector:"edge.solved",style:{"line-opacity":.4}},{selector:"edge.solved.used",style:{"line-opacity":1}}],P={DEFAULT:[{selector:"node",style:{label:"data(id)","text-valign":"top",color:"#000","background-color":"#61bffc","text-outline-color":"#fff","text-outline-width":2,"border-color":"black","border-style":"solid","border-width":2}},{selector:"edge",style:{"curve-style":"bezier","line-color":"black",width:2}},...a,c],"3SAT-HCYCLE":[{selector:"node",style:{"font-size":12,"text-valign":"top","background-color":"blue","border-color":"black","border-style":"solid","border-width":2}},{selector:"node.true",style:{"background-color":"green"}},{selector:"node.false",style:{"background-color":"red"}},{selector:"node.source, node.inbetween, node.target",style:{"background-color":"white","border-style":"solid","border-color":"black"}},{selector:"node.clause",style:{"background-color":"orange"}},{selector:"node.guarantee",style:{opacity:.5}},{selector:"edge",style:{"line-color":"black","target-arrow-color":"black","target-arrow-shape":"chevron","curve-style":"bezier","arrow-scale":1}},{selector:"edge.muted",style:{"line-opacity":.2,"line-color":"black"}},{selector:"edge.clause",style:{"curve-style":"bezier",width:3,"line-opacity":1,"arrow-scale":2}},{selector:"edge.true_in",style:{"target-arrow-color":"green","line-color":"green","line-style":"dashed"}},{selector:"edge.true_out",style:{"target-arrow-color":"green","line-color":"green"}},{selector:"edge.false_in",style:{"target-arrow-color":"red","line-color":"red","line-style":"dashed"}},{selector:"edge.false_out",style:{"target-arrow-color":"red","line-color":"red"}},{selector:"edge.target-to-source",style:{"curve-style":"round-segments","segment-distances":"data(controlPointDistances)","segment-weights":[0,1]}},...a,c],UNDIRECTED:[{selector:"node",style:{"text-valign":"top",color:"#000","background-color":"#61bffc","text-outline-color":"#fff","text-outline-width":2,"border-color":"black","border-style":"solid","border-width":2}},{selector:"edge",style:{"curve-style":"bezier","line-color":"black",width:2}},...a,c],DIRECTED:[{selector:"node",style:{"text-valign":"top",color:"#000","background-color":"#61bffc","text-outline-color":"#fff","text-outline-width":2,"border-color":"black","border-style":"solid","border-width":2}},{selector:"edge",style:{"line-color":"black","target-arrow-shape":"triangle","target-arrow-color":"black","curve-style":"bezier","arrow-scale":2,width:2}},...a,c],HCIRCUIT:[{selector:"node",style:{"text-valign":"top",color:"#000","background-color":"#61bffc","text-outline-color":"#fff","text-outline-width":2,"border-color":"black","border-style":"solid","border-width":2}},{selector:"edge",style:{"curve-style":"bezier","line-color":"black","text-background-color":"#fff","text-background-opacity":1,"text-background-padding":"4",width:2}},{selector:"edge.solid",style:{opacity:1,"line-opacity":1}},{selector:"edge.muted",style:{opacity:.4,"line-opacity":.4}},...a,c],TSP:[{selector:"node",style:{"text-valign":"top",color:"#000","background-color":"#61bffc","text-outline-color":"#fff","text-outline-width":2,"border-color":"black","border-style":"solid","border-width":2}},{selector:"edge",style:{label:"data(weight)","curve-style":"bezier","line-color":"black","text-background-color":"#fff","text-background-opacity":.95,"text-background-padding":"2",width:2}},{selector:"edge.solid",style:{opacity:1,"line-opacity":1}},{selector:"edge.muted",style:{opacity:.4,"line-opacity":.4}},...a,c],"3SAT-3CG":[{selector:"node",style:{"font-size":12,"text-valign":"top","background-color":"white","border-color":"black","border-style":"solid","border-width":2}},{selector:"edge.muted",style:{"line-opacity":.2,"line-color":"black"}},{selector:"node.green, node.T",style:{"background-color":"#9bff9b"}},{selector:"node.red, node.F",style:{"background-color":"#ff7272"}},{selector:"node.blue, node.B",style:{"background-color":"#74a4ff"}},{selector:"edge.core",style:{"curve-style":"bezier","line-color":"black",width:1}},{selector:"edge.outer-circle",style:{"curve-style":"unbundled-bezier","control-point-distances":"data(controlPointDistances)","control-point-weights":[.25,.75],width:4}},...a,c]};var oe=Q('<main class="svelte-ovjh18"><h2 class="dev">Graph Renderer</h2> <div class="graph-wrapper svelte-ovjh18"><div id="cy"><div id="math-label-layer" class="svelte-ovjh18"></div></div> <div class="actions svelte-ovjh18"><label class="checkbox-wrapper"><input type="checkbox"/> Move Enabled</label></div></div></main>');function de(j,s){G(s,!0);let m=u(s,"style",3,"DEFAULT"),L=u(s,"layout",3,"preset"),M=u(s,"onNodeTap",3,()=>{}),S=u(s,"onEdgeTap",3,()=>{}),A=u(s,"editable",3,!1),e,p,n,i=O(!1);const d=new Map;function h(o){e.panningEnabled(o),e.userZoomingEnabled(o),o?e.nodes().grabify():e.nodes().ungrabify()}function k(){console.debug("label.length",Array.from(d.entries()).length),console.debug("render"),e.nodes().forEach(o=>{const r=o.data("label");if(!r)return;let t=d.get(r);if(!t){console.debug("creating svg"),t=document.createElement("div"),t.style.position="absolute";const U=$.renderToString(r);t.innerHTML=U,d.set(r,t),n.append(t)}const l=t.getBoundingClientRect(),C=o.renderedPosition();o.renderedBoundingbox();const H=e.zoom();t.style.display="flex",t.style.justifyContent="center",t.style.alignContent="center",t.style.transformOrigin="0 0",t.style.transform=`
                translate(${C.x}px, ${C.y}px)
                translate(${-l.width/2}px, ${-l.height/2}px)
                scale(${H})
            `})}function I(){console.debug("resize"),n&&(n.style.width=e.width()+"px",n.style.height=e.height()+"px")}function N(o){const r=o.target.id(),t=d.get(r);t&&(t.remove(),d.delete(r))}F(()=>{e=ee({container:p,wheelSensitivity:5,style:P[m()]}),e.on("tap","node",M()),e.on("tap","edge",S()),e.on("resize",I),e.on("remove","node",o=>N(o)),e.on("render",k)}),T(()=>{const o=s.graph.nodes.map(l=>({data:{id:l.id,label:l.label??l.id},position:l.position,classes:l.classes})),r=s.graph.edges.map(l=>({data:{id:l.id,source:l.from,target:l.to,weight:l.weight,controlPointDistances:l.controlPointDistances},classes:l.classes}));e.elements().remove(),e.add([...o,...r]),e.style(P[m()]);let t=e.layout({name:L()});t.pon("layoutstop").then(()=>{console.debug("layoutstop"),h(!0),e.resize(),e.reset(),e.fit(e.elements(),20),h(f(i)),k()}),t.run(),d.forEach(l=>l.style.display="none")}),T(()=>h(f(i)));var v=oe(),w=D(g(v),2),b=g(w);let x;var B=g(b);R(B,o=>n=o,()=>n),y(b),R(b,o=>p=o,()=>p);var z=D(b,2),E=g(z),_=g(E);V(_),Y(),y(E),y(z),y(w),y(v),Z(o=>x=W(b,1,"svelte-ovjh18",null,x,o),[()=>({"no-events":!A()&&!f(i)})]),X(_,()=>f(i),o=>q(i,o)),J(j,v),K()}export{de as R};
